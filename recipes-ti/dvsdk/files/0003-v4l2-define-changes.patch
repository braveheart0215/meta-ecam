From 5cb98ab35965b34ac0061043cf5776cf9271fed9 Mon Sep 17 00:00:00 2001
From: Garrett <g@floft.net>
Date: Fri, 16 Aug 2013 08:33:41 -0700
Subject: [PATCH 3/3] v4l2 define changes

---
 .../packages/ti/sdo/dmai/linux/omap3530/Capture.c  |   26 ++++++++++----------
 1 files changed, 13 insertions(+), 13 deletions(-)

diff --git a/dmai_2_20_00_15/packages/ti/sdo/dmai/linux/omap3530/Capture.c b/dmai_2_20_00_15/packages/ti/sdo/dmai/linux/omap3530/Capture.c
index d41575d..12361d3 100644
--- a/dmai_2_20_00_15/packages/ti/sdo/dmai/linux/omap3530/Capture.c
+++ b/dmai_2_20_00_15/packages/ti/sdo/dmai/linux/omap3530/Capture.c
@@ -193,7 +193,7 @@ static int enumerate_all_entities(struct media_dev *media)
 	index = 0;
 	do {
 		memset(&media->entity[index], 0, sizeof(struct media_entity_desc));
-		media->entity[index].id = index | MEDIA_ENTITY_ID_FLAG_NEXT;
+		media->entity[index].id = index | MEDIA_ENT_ID_FLAG_NEXT;
 		ret = ioctl(media->media_fd, MEDIA_IOC_ENUM_ENTITIES, &media->entity[index]);
 		if (ret < 0) {
 			break;
@@ -247,12 +247,12 @@ static int reset_media_links(struct media_dev *media)
 			for(i = 0; i < media->entity[index].links; i++) {
 				link.source.entity = links.links->source.entity;
 				link.source.index = links.links->source.index;
-				link.source.flags = MEDIA_PAD_FLAG_OUTPUT;
+				link.source.flags = MEDIA_PAD_FL_SOURCE;
 				link.sink.entity = links.links->sink.entity;
 				link.sink.index = links.links->sink.index;
-				link.sink.flags = MEDIA_PAD_FLAG_INPUT;
-				link.flags = (link.flags & ~MEDIA_LINK_FLAG_ENABLED) |
-					(link.flags & MEDIA_LINK_FLAG_IMMUTABLE);
+				link.sink.flags = MEDIA_PAD_FL_SINK;
+				link.flags = (link.flags & ~MEDIA_LNK_FL_ENABLED) |
+					(link.flags & MEDIA_LNK_FL_IMMUTABLE);
 				ret = ioctl(media->media_fd, MEDIA_IOC_SETUP_LINK, &link);
 				if(ret)
 					break;
@@ -284,7 +284,7 @@ static int setup_media_links(struct media_dev *media)
 				printf("pads for entity %d=", media->entity[index].id);
 			for(i = 0 ; i < media->entity[index].pads; i++) {
 				printf("(%d %s) ", links.pads->index,
-						(links.pads->flags & MEDIA_PAD_FLAG_INPUT) ?
+						(links.pads->flags & MEDIA_PAD_FL_SINK) ?
 						"INPUT" : "OUTPUT");
 				links.pads++;
 			}
@@ -295,7 +295,7 @@ static int setup_media_links(struct media_dev *media)
 						links.links->source.index,
 						links.links->sink.entity,
 						links.links->sink.index);
-				if(links.links->flags & MEDIA_LINK_FLAG_ENABLED)
+				if(links.links->flags & MEDIA_LNK_FL_ENABLED)
 					printf("\tACTIVE\n");
 				else
 					printf("\tINACTIVE \n");
@@ -313,14 +313,14 @@ static int setup_media_links(struct media_dev *media)
 	printf("Enabling link [tvp5146]===>[ccdc]\n");
 	memset(&link, 0, sizeof(link));
 
-	link.flags |=  MEDIA_LINK_FLAG_ENABLED;
+	link.flags |=  MEDIA_LNK_FL_ENABLED;
 	link.source.entity = input;
 	link.source.index = 0;	/* Only 1 pad */
-	link.source.flags = MEDIA_PAD_FLAG_OUTPUT;
+	link.source.flags = MEDIA_PAD_FL_SOURCE;
 
 	link.sink.entity = media->ccdc;
 	link.sink.index = 0; /* Sink pad of CCDC, 0 */
-	link.sink.flags = MEDIA_PAD_FLAG_INPUT;
+	link.sink.flags = MEDIA_PAD_FL_SINK;
 
 	ret = ioctl(media->media_fd, MEDIA_IOC_SETUP_LINK, &link);
 	if(ret) {
@@ -333,14 +333,14 @@ static int setup_media_links(struct media_dev *media)
 	printf("Enabling link [ccdc]===>[video_node]\n");
 	memset(&link, 0, sizeof(link));
 
-	link.flags |=  MEDIA_LINK_FLAG_ENABLED;
+	link.flags |=  MEDIA_LNK_FL_ENABLED;
 	link.source.entity = media->ccdc;
 	link.source.index = 1; /* Source pad of CCDC: 1 */
-	link.source.flags = MEDIA_PAD_FLAG_OUTPUT;
+	link.source.flags = MEDIA_PAD_FL_SOURCE;
 
 	link.sink.entity = media->video;
 	link.sink.index = 0;
-	link.sink.flags = MEDIA_PAD_FLAG_INPUT;
+	link.sink.flags = MEDIA_PAD_FL_SINK;
 
 	ret = ioctl(media->media_fd, MEDIA_IOC_SETUP_LINK, &link);
 	if(ret)
-- 
1.7.0.4

